<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>ctdb.sysconfig</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="refentry"><a name="ctdb.sysconfig.5"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>ctdb.sysconfig &#8212; CTDB daemon configuration file</p></div><div class="refsect1"><a name="idm10"></a><h2>DESCRIPTION</h2><p>
      This file contains configuration that affects the operation of
      CTDB.  This is a distribution-specific service configuration
      file such as <code class="filename">/etc/sysconfig/ctdb</code> (Red Hat)
      or <code class="filename">/etc/default/ctdb</code> (Debian) and is a
      shell script (see
      <span class="citerefentry"><span class="refentrytitle">sh</span>(1)</span>).
    </p></div><div class="refsect1"><a name="idm18"></a><h2>
      GLOBAL CONFIGURATION
    </h2><div class="variablelist"><dl class="variablelist"><dt><span class="term">CTDB_INIT_STYLE=debian|redhat|suse</span></dt><dd><p>
	    This is the init style used by the Linux distribution (or
	    other operating system) being used.  This is usually
	    determined dynamically by checking the system.  This
	    variable is used by the initscript to determine which init
	    system primitives to use.  It is also used by some
	    eventscripts to choose the name of initscripts for certain
	    services, since these can vary between distributions.
	  </p><p>
	    If using CTDB's event scripts are unable to determine an
	    appropriate default then this option can also be placed in
	    a relevant
	    <span class="citerefentry"><span class="refentrytitle">ctdb-script.options</span>(5)</span> file.
	  </p><p>
	    Default: NONE.  Guessed, based on features of
	    distribution.
	  </p></dd><dt><span class="term">CTDB_STARTUP_TIMEOUT=<em class="parameter"><code>NUM</code></em></span></dt><dd><p>
	    NUM is the number of seconds to wait for
	    <span class="citerefentry"><span class="refentrytitle">ctdbd</span>(1)</span> complete early
	    initialisation up to a point where it is unlikely to
	    abort.  If <span class="command"><strong>ctdbd</strong></span> doesn't complete the
	    "setup" event before this timeout then it is killed.
	  </p><p>
	    Defaults: 10
	  </p></dd></dl></div></div><div class="refsect1"><a name="idm40"></a><h2>
      RESOURCE LIMITS
    </h2><div class="refsect2"><a name="idm42"></a><h3>
	Maximum number of open files
      </h3><p>
	CTDB can use a lot of file descriptors, especially when used
	with Samba.  If there are thousands of smbd processes
	connected to CTDB when this can mean that thousands of file
	descriptors are used.  For CTDB, it is often necessary to
	increase limit on the maximum number of open files.
      </p><p>
	The maximum number of open files should be configured using an
	operating system mechanism.
      </p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
	    systemd
	  </span></dt><dd><p>
	      The
	      <code class="literal">LimitNOFILE=<code class="option">LIMIT</code></code>
	      option can be used in a unit/service file increase the
	      maximum number of open files.  See
	      <span class="citerefentry"><span class="refentrytitle">systemd.exec</span>(5)</span> for details.
	    </p></dd><dt><span class="term">
	    SYSV init
	  </span></dt><dd><p>
	      Use a command like <span class="command"><strong>ulimit -n
	      <code class="option">LIMIT</code></strong></span> to increase the maximum
	      number of open files.  This command can be put in the
	      relevant distribution-specific service configuration file.
	    </p></dd></dl></div></div><div class="refsect2"><a name="idm62"></a><h3>
	Allowing core dumps
      </h3><p>
	Many distributions do not allow core dump files to be
	generated by default.  To assist with debugging, core files
	can be enabled.  This should be configured using an operating
	system mechanism.
      </p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
	    systemd
	  </span></dt><dd><p>
	      The <code class="literal">LimitCORE=0|unlimited</code> option can
	      be used in a unit/service file.  <code class="literal">0</code>
	      disallows core files, <code class="literal">unlimited</code>
	      allows them.  maximum number of open files.  See
	      <span class="citerefentry"><span class="refentrytitle">systemd.exec</span>(5)</span> for details.
	    </p></dd><dt><span class="term">
	    SYSV init
	  </span></dt><dd><p>
	      Use a command like <span class="command"><strong>ulimit -c 0|unlimited</strong></span>
	      to disable or enable core files as required.  This
	      command can be put in the relevant distribution-specific
	      service configuration file.
	    </p></dd></dl></div></div></div><div class="refsect1"><a name="idm81"></a><h2>FILES</h2><table border="0" summary="Simple list" class="simplelist"><tr><td><code class="filename">/etc/sysconfig/ctdb</code></td></tr><tr><td><code class="filename">/etc/default/ctdb</code></td></tr><tr><td><code class="filename">/usr/local/etc/ctdb/script.options</code></td></tr></table></div><div class="refsect1"><a name="idm90"></a><h2>SEE ALSO</h2><p>
      <span class="citerefentry"><span class="refentrytitle">ctdbd</span>(1)</span>,

      <span class="citerefentry"><span class="refentrytitle">ctdb-script.options</span>(5)</span>,

      <span class="citerefentry"><span class="refentrytitle">ctdb</span>(7)</span>,

      <a class="ulink" href="http://ctdb.samba.org/" target="_top">http://ctdb.samba.org/</a>
    </p></div></div></body></html>
